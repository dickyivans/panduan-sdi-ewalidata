<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Hasil Kuesioner Keamanan Password - Dinas Komunikasi dan Informatika Kabupaten Sanggau"
    />

    <title>Hasil Kuesioner Keamanan Password</title>
    <link
      rel="icon"
      type="image/png"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EðŸ”’%3C/text%3E%3C/svg%3E"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />

    <style>
      :root {
        --primary: #ff2342;
        --secondary: #ffb830;
        --bg: #f6f6f6;
        --success: #28a745;
        --warning: #ffc107;
        --danger: #dc3545;
        --orange-gradient: linear-gradient(135deg, #a60d10, #ec1d25);
        --red-gradient: linear-gradient(135deg, #014c86, #00a5cb);
        --green-gradient: linear-gradient(135deg, #28a745, #20c997);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        outline: none;
        border: none;
        text-decoration: none;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--bg);
        color: #333;
        padding-top: 80px;
      }

      /* Navbar Styles */
      .navbar {
        background: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        padding: 15px 0;
        transition: all 0.3s ease;
      }

      .navbar-brand {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary) !important;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .navbar-brand i {
        font-size: 2rem;
      }

      /* Stats Cards */
      .stats-container {
        padding: 60px 0 40px;
        background: white;
      }

      .stat-card {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--orange-gradient);
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
      }

      .stat-card.high::before {
        background: var(--green-gradient);
      }

      .stat-card.medium::before {
        background: linear-gradient(135deg, var(--warning), #ffb830);
      }

      .stat-card.low::before {
        background: linear-gradient(135deg, var(--danger), #ff4757);
      }

      .stat-icon {
        width: 60px;
        height: 60px;
        background: var(--orange-gradient);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        color: white;
        font-size: 1.5rem;
      }

      .stat-card.high .stat-icon {
        background: var(--green-gradient);
      }

      .stat-card.medium .stat-icon {
        background: linear-gradient(135deg, var(--warning), #ffb830);
      }

      .stat-card.low .stat-icon {
        background: linear-gradient(135deg, var(--danger), #ff4757);
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--primary);
        margin-bottom: 10px;
      }

      .stat-label {
        font-size: 1rem;
        color: #666;
        font-weight: 500;
      }

      /* Filter Section */
      .filter-section {
        background: white;
        padding: 40px 0;
        border-bottom: 1px solid #e0e0e0;
      }

      .filter-card {
        background: #f8f9fa;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
      }

      .filter-group {
        margin-bottom: 20px;
      }

      .filter-group:last-child {
        margin-bottom: 0;
      }

      .filter-label {
        font-weight: 600;
        color: #333;
        margin-bottom: 10px;
        display: block;
      }

      .form-select,
      .form-control {
        border-radius: 10px;
        border: 2px solid #e9ecef;
        padding: 12px 16px;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .form-select:focus,
      .form-control:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.2rem rgba(255, 35, 66, 0.25);
      }

      .btn-filter {
        background: var(--orange-gradient);
        color: white;
        padding: 12px 30px;
        border-radius: 25px;
        font-weight: 600;
        border: none;
        transition: all 0.3s ease;
      }

      .btn-filter:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255, 35, 66, 0.3);
        color: white;
      }

      .btn-reset {
        background: #6c757d;
        color: white;
        padding: 12px 30px;
        border-radius: 25px;
        font-weight: 600;
        border: none;
        transition: all 0.3s ease;
      }

      .btn-reset:hover {
        background: #5a6268;
        transform: translateY(-2px);
        color: white;
      }

      /* Table Section */
      .table-section {
        background: white;
        padding: 40px 0 60px;
      }

      .table-container {
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .table-header {
        background: var(--orange-gradient);
        color: white;
        padding: 25px 30px;
        margin: 0;
        font-size: 1.3rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .table-header i {
        font-size: 1.5rem;
      }

      .table-responsive {
        max-height: 600px;
        overflow-y: auto;
      }

      .custom-table {
        margin: 0;
        font-size: 0.9rem;
      }

      .custom-table thead {
        background: #f8f9fa;
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .custom-table th {
        padding: 20px 15px;
        font-weight: 600;
        color: #333;
        border-bottom: 2px solid #dee2e6;
        white-space: nowrap;
      }

      .custom-table td {
        padding: 15px;
        vertical-align: middle;
        border-bottom: 1px solid #f0f0f0;
      }

      .custom-table tbody tr {
        transition: all 0.3s ease;
      }

      .custom-table tbody tr:hover {
        background-color: #f8f9ff;
        transform: scale(1.01);
      }

      /* Score Badges */
      .score-badge {
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.85rem;
        text-align: center;
        min-width: 80px;
        display: inline-block;
      }

      .score-high {
        background: linear-gradient(135deg, #d4edda, #c3e6cb);
        color: #155724;
        border: 1px solid #c3e6cb;
      }

      .score-medium {
        background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        color: #856404;
        border: 1px solid #ffeaa7;
      }

      .score-low {
        background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        color: #721c24;
        border: 1px solid #f5c6cb;
      }

      /* Department Badges */
      .dept-badge {
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
      }

      .dept-sekretariat {
        background: #e3f2fd;
        color: #1976d2;
        border: 1px solid #bbdefb;
      }

      .dept-p2be {
        background: #f3e5f5;
        color: #7b1fa2;
        border: 1px solid #e1bee7;
      }

      .dept-ikp {
        background: #e8f5e8;
        color: #2e7d32;
        border: 1px solid #c8e6c9;
      }

      .dept-sp {
        background: #fff3e0;
        color: #f57c00;
        border: 1px solid #ffcc02;
      }

      /* Info Section */
      .info-section {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 60px 0;
      }

      .info-card {
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .info-card h5 {
        color: var(--primary);
        font-weight: 700;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .score-legend {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .legend-color {
        width: 20px;
        min-width: 20px;
        height: 20px;
        border-radius: 50%;
        flex-shrink: 0;
      }

      .legend-high {
        background: var(--success);
      }

      .legend-medium {
        background: var(--warning);
      }

      .legend-low {
        background: var(--danger);
      }

      /* Progress Bar for Understanding Percentage */
      .understanding-progress-container {
        margin-top: 20px;
      }

      .progress {
        height: 25px;
        border-radius: 15px;
        background-color: #e9ecef;
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .progress-bar {
        border-radius: 15px;
        background: var(--green-gradient);
        color: white;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        transition: width 0.6s ease;
      }

      /* Pagination Styles */
      .pagination-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .pagination-button {
        background: #fff;
        border: 1px solid #dee2e6;
        color: #6c757d;
        padding: 10px 15px;
        margin: 0 5px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .pagination-button:hover:not(.active) {
        background: #f8f9fa;
      }

      .pagination-button.active {
        background: var(--orange-gradient);
        color: white;
        border-color: transparent;
        font-weight: bold;
      }

      .pagination-button:disabled {
        cursor: not-allowed;
        opacity: 0.5;
      }

      /* Responsive */
      @media (max-width: 768px) {
        body {
          padding-top: 70px;
        }

        .navbar-brand {
          font-size: 1.3rem;
        }

        .stat-card {
          padding: 20px;
          margin-bottom: 20px;
        }

        .stat-number {
          font-size: 2rem;
        }

        .filter-card {
          padding: 20px;
        }

        .table-header {
          padding: 20px;
          font-size: 1.1rem;
        }

        .custom-table {
          font-size: 0.8rem;
        }

        .custom-table th,
        .custom-table td {
          padding: 10px 8px;
        }

        .score-legend {
          flex-direction: column;
        }
      }

      /* Custom scrollbar */
      .table-responsive::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      .table-responsive::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }

      .table-responsive::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 10px;
      }

      .table-responsive::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg fixed-top">
      <div class="container-xl">
        <a class="navbar-brand" href="#dashboard">
          <i class="fas fa-shield-alt"></i>
          Evaluasi Keamanan Password
        </a>
      </div>
    </nav>
    <section id="dashboard" class="stats-container">
      <div class="container-xl">
        <div class="text-center mb-5">
          <h1 class="fw-bold mb-3">
            Hasil <span style="color: var(--primary)">Kuesioner</span>
          </h1>
          <p class="text-muted fs-5">
            Analisis Tingkat Pemahaman Keamanan Password Pegawai Diskominfo
            Kabupaten Sanggau
          </p>
        </div>

        <div class="row g-4 mb-4">
          <div class="col-lg-3 col-md-6">
            <div class="stat-card">
              <div class="stat-icon">
                <i class="fas fa-users"></i>
              </div>
              <div class="stat-number" id="totalResponses"></div>
              <div class="stat-label">Total Responden</div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="stat-card high">
              <div class="stat-icon">
                <i class="fas fa-shield-alt"></i>
              </div>
              <div class="stat-number" id="highScore"></div>
              <div class="stat-label">Pemahaman Tinggi<br /></div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="stat-card medium">
              <div class="stat-icon">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <div class="stat-number" id="mediumScore"></div>
              <div class="stat-label">Pemahaman Sedang<br /></div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <div class="stat-card low">
              <div class="stat-icon">
                <i class="fas fa-times-circle"></i>
              </div>
              <div class="stat-number" id="lowScore"></div>
              <div class="stat-label">Pemahaman Rendah<br /></div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="info-section">
      <div class="container-xl">
        <div class="row">
          <div class="col-lg-8">
            <div class="info-card">
              <h5>
                <i class="fas fa-info-circle"></i>
                Interpretasi Skor Pemahaman
              </h5>
              <div class="score-legend">
                <div class="legend-item">
                  <div class="legend-color legend-high"></div>
                  <div>
                    <strong>Tinggi (11-15 poin)</strong><br />
                    <small
                      >Pemahaman baik tentang keamanan password, sudah
                      menerapkan praktik yang aman</small
                    >
                  </div>
                </div>
                <div class="legend-item">
                  <div class="legend-color legend-medium"></div>
                  <div>
                    <strong>Sedang (6-10 poin)</strong><br />
                    <small
                      >Pemahaman cukup, masih perlu perbaikan dan pembiasaan
                      keamanan password</small
                    >
                  </div>
                </div>
                <div class="legend-item">
                  <div class="legend-color legend-low"></div>
                  <div>
                    <strong>Rendah (0-5 poin)</strong><br />
                    <small
                      >Pemahaman kurang, berisiko tinggi, sangat membutuhkan
                      pelatihan keamanan</small
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="info-card">
              <h5>
                <i class="fas-fa-chart-line"></i>
                Persentase Pemahaman Keamanan Password Pegawai
              </h5>
              <div class="understanding-progress-container">
                <div class="progress">
                  <div
                    id="understanding-progress-bar"
                    class="progress-bar"
                    role="progressbar"
                    style="width: 0%"
                    aria-valuenow="0"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  >
                    0%
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="filter-section">
      <div class="container-xl">
        <div class="filter-card">
          <div class="row g-3">
            <div class="col-lg-3 col-md-6">
              <div class="filter-group">
                <label class="filter-label">
                  <i class="fas fa-building me-2"></i>Bidang
                </label>
                <select class="form-select" id="filterBidang">
                  <option value="">Semua Bidang</option>
                  <option value="Sekretariat">Sekretariat</option>
                  <option
                    value="Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)"
                  >
                    P2BE
                  </option>
                  <option
                    value="Pengelola Informasi dan Komunikasi Publik (IKP)"
                  >
                    IKP
                  </option>
                  <option value="Statistik dan Persandian (SP)">SP</option>
                </select>
              </div>
            </div>

            <div class="col-lg-3 col-md-6">
              <div class="filter-group">
                <label class="filter-label">
                  <i class="fas fa-chart-bar me-2"></i>Tingkat Pemahaman
                </label>
                <select class="form-select" id="filterScore">
                  <option value="">Semua Tingkat</option>
                  <option value="high">Tinggi (11-15)</option>
                  <option value="medium">Sedang (6-10)</option>
                  <option value="low">Rendah (0-5)</option>
                </select>
              </div>
            </div>

            <div class="col-lg-3 col-md-6">
              <div class="filter-group">
                <label class="filter-label">
                  <i class="fas fa-search me-2"></i>Cari Nama
                </label>
                <input
                  type="text"
                  class="form-control"
                  id="searchName"
                  placeholder="Masukkan nama..."
                />
              </div>
            </div>

            <div class="col-lg-3 col-md-6">
              <div class="filter-group">
                <label class="filter-label">&nbsp;</label>
                <div class="d-flex gap-2">
                  <button
                    type="button"
                    class="btn btn-filter flex-fill"
                    onclick="applyFilters()"
                  >
                    <i class="fas fa-filter me-2"></i>Filter
                  </button>
                  <button
                    type="button"
                    class="btn btn-reset"
                    onclick="resetFilters()"
                  >
                    <i class="fas fa-undo me-2"></i>Reset
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="table-section">
      <div class="container-xl">
        <div class="table-container">
          <div class="table-header">
            <i class="fas fa-table"></i>
            Data Hasil Kuesioner
            <span class="ms-auto" id="filteredCount"></span>
          </div>

          <div class="table-responsive">
            <table class="table custom-table mb-0">
              <thead>
                <tr>
                  <th>No</th>
                  <th>Tanggal</th>
                  <th>Nama</th>
                  <th>Bidang</th>
                  <th>Total Skor</th>
                  <th>Tingkat Pemahaman</th>
                  <th>Pentingnya Password (Skor)</th>
                  <th>Frekuensi Ganti Password (Skor)</th>
                  <th>Penggunaan Ulang Password (Skor)</th>
                  <th>Pengetahuan Password Manager (Skor)</th>
                  <th>Contoh Password Kuat (Skor)</th>
                </tr>
              </thead>
              <tbody id="tableBody"></tbody>
            </table>
          </div>
        </div>
        <div id="pagination-wrapper" class="pagination-container"></div>
      </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Survey data
      const surveyData = {
        survey_data: [
          {
            timestamp: "2025-08-25",
            nama: "Joni Irwanto",
            bidang: "Sekretariat",
            score: 13,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-25",
            nama: "Firman Firdal",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "R.S. Solikhin",
            bidang: "Statistik dan Persandian (SP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "Agus Riyanto",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Tidak Pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "Sari Ariani",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "P Herman Sutoyo",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Emelia Agustina Lusy",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 9,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Tri Rivanie",
            bidang: "Sekretariat",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-29",
            nama: "Priamdono",
            bidang: "Sekretariat",
            score: 13,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-29",
            nama: "Suranta Sinulingga",
            bidang: "Sekretariat",
            score: 8,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Ya, sering",
              score: 0,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-25",
            nama: "Sri Yartika",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-25",
            nama: "Andreas Ege",
            bidang: "Statistik dan Persandian (SP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "Sudarmi",
            bidang: "Sekretariat",
            score: 8,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Ya, sering",
              score: 0,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "Servius Yoris Padagi",
            bidang: "Statistik dan Persandian (SP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "Mulyadi",
            bidang: "Sekretariat",
            score: 13,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "Kristina Ariyani",
            bidang: "Statistik dan Persandian (SP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Utin Sriwahyuni",
            bidang: "Sekretariat",
            score: 8,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Ya, sering",
              score: 0,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Rosidi",
            bidang: "Sekretariat",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-29",
            nama: "Iwan",
            bidang: "Sekretariat",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-29",
            nama: "Agata Leny",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-25",
            nama: "Yan Sutarni",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-25",
            nama: "Y Tatag Suasono",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "Bang Yos",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "Rizky Kurniyawan",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 8,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Ya, sering",
              score: 0,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "Sarman",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "Salvator",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Christi Tentodi",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 8,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Ya, sering",
              score: 0,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Aulia Silmi",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-29",
            nama: "Chairul Syafar Putra",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-29",
            nama: "Harris Tresna Yudha",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-25",
            nama: "Arian Dwi Putra",
            bidang: "Sekretariat",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-25",
            nama: "Maria Welita Swinanda",
            bidang: "Statistik dan Persandian (SP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "Syauqi M Abrar",
            bidang: "Statistik dan Persandian (SP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-26",
            nama: "Hendri",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "Abang Alfian",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-27",
            nama: "M Sukri Zarkasyi",
            bidang: "Pengelola Informasi dan Komunikasi Publik (IKP)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Irvan Nirwana",
            bidang: "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)",
            score: 11,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "6 bulan sekali",
              score: 2,
            },
            password_reuse: {
              answer: "Kadang-kadang",
              score: 1,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-28",
            nama: "Tresno Anugrah",
            bidang: "Sekretariat",
            score: 8,
            password_importance: {
              answer: "Penting",
              score: 2,
            },
            password_change_frequency: {
              answer: "Setahun sekali",
              score: 1,
            },
            password_reuse: {
              answer: "Ya, sering",
              score: 0,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
          {
            timestamp: "2025-08-29",
            nama: "Dicky Ivan Setiawan",
            bidang: "Statistik dan Persandian (SP)",
            score: 14,
            password_importance: {
              answer: "Sangat Penting",
              score: 3,
            },
            password_change_frequency: {
              answer: "Rutin (â‰¤ 3 bulan sekali)",
              score: 3,
            },
            password_reuse: {
              answer: "Tidak pernah",
              score: 3,
            },
            strong_password_example: {
              answer: "U&CC9-\\Lc92@",
              score: 3,
            },
            password_manager_knowledge: {
              answer: "Ya, tapi belum pernah menggunakan",
              score: 2,
            },
          },
        ],
        metadata: {
          total_responses: 39,
          survey_period: "2025-08-25 to 2025-08-29",
          departments: {
            Sekretariat: 12,
            "Penyelenggara Pemerintahan Berbasis Elektronik (P2BE)": 13,
            "Pengelola Informasi dan Komunikasi Publik (IKP)": 8,
            "Statistik dan Persandian (SP)": 4,
          },
          score_distribution: {
            7: 1,
            8: 20,
            9: 1,
            11: 11,
            14: 4,
          },
          questions: {
            password_importance:
              "Menurut Anda, apakah password yang kuat penting?",
            password_change_frequency:
              "Seberapa sering Anda mengganti password akun?",
            password_reuse:
              "Apakah Anda pernah menggunakan password yang sama?",
            strong_password_example:
              "Menurut Anda, manakah contoh password yang lebih kuat?",
            password_manager_knowledge:
              "Apakah Anda mengetahui aplikasi Password Manager?",
          },
          scoring_system: {
            password_importance: {
              "Kurang Penting": 1,
              Penting: 2,
              "Sangat Penting": 3,
            },
            password_change_frequency: {
              "Setahun sekali": 1,
              "6 bulan sekali": 2,
              "Rutin (â‰¤ 3 bulan sekali)": 3,
            },
            password_reuse: {
              "Ya, sering": 0,
              "Kadang-kadang": 1,
              "Tidak pernah": 3,
            },
            strong_password_example: {
              "U&CC9-\\Lc92@": 3,
            },
            password_manager_knowledge: {
              "Ya, tapi belum pernah menggunakan": 2,
            },
          },
        },
      };

      // GLOBAL VARIABLES FOR PAGINATION
      let currentPage = 1;
      const rowsPerPage = 10;
      let currentFilteredData = [];

      // FUNGSI UNTUK MENGAMBIL TINGKAT SKOR
      function getScoreLevel(score) {
        if (score >= 11) return "high";
        if (score >= 6) return "medium";
        return "low";
      }

      // FUNGSI BARU UNTUK MENGHITUNG PERSENTASE PEMAHAMAN
      function calculateUnderstandingPercentage(data) {
        let totalScore = 0;
        const totalRespondents = data.length;

        data.forEach((item) => {
          const level = getScoreLevel(item.score);
          if (level === "high") {
            totalScore += 1;
          } else if (level === "medium") {
            totalScore += 0.5;
          }
          // Low level adds 0, so no need for an else statement
        });

        const percentage = (totalScore / totalRespondents) * 100;
        const roundedPercentage = percentage.toFixed(1);

        // Update the progress bar
        const progressBar = document.getElementById(
          "understanding-progress-bar"
        );
        progressBar.style.width = `${roundedPercentage}%`;
        progressBar.textContent = `${roundedPercentage}%`;
        progressBar.setAttribute("aria-valuenow", roundedPercentage);
      }

      // FUNGSI UNTUK MENAMPILKAN BADGE SKOR
      function getScoreBadge(score) {
        const level = getScoreLevel(score);
        let text = "Rendah";
        let className = "score-low";
        if (level === "high") {
          text = "Tinggi";
          className = "score-high";
        } else if (level === "medium") {
          text = "Sedang";
          className = "score-medium";
        }
        return `<span class="score-badge ${className}">${text}</span>`;
      }

      // FUNGSI BARU UNTUK MENAMPILKAN AKRONIM BIDANG
      function getDeptBadge(bidang) {
        let className = "";
        let text = "";
        if (bidang.includes("Sekretariat")) {
          className = "dept-sekretariat";
          text = "Sekretariat";
        } else if (bidang.includes("P2BE")) {
          className = "dept-p2be";
          text = "P2BE";
        } else if (bidang.includes("IKP")) {
          className = "dept-ikp";
          text = "IKP";
        } else if (bidang.includes("SP")) {
          className = "dept-sp";
          text = "SP";
        }
        return `<span class="dept-badge ${className}">${text}</span>`;
      }

      // FUNGSI UNTUK MERENDER DATA DENGAN PAGINASI
      function renderTable(data, page) {
        const tableBody = document.getElementById("tableBody");
        tableBody.innerHTML = ""; // Kosongkan tabel sebelum merender ulang

        const start = (page - 1) * rowsPerPage;
        const end = start + rowsPerPage;
        const paginatedData = data.slice(start, end);

        if (paginatedData.length === 0) {
          tableBody.innerHTML = `<tr><td colspan="11" class="text-center py-5">Tidak ada data yang cocok dengan filter.</td></tr>`;
        } else {
          paginatedData.forEach((item, index) => {
            const row = document.createElement("tr");
            row.innerHTML = `
              <td>${start + index + 1}</td>
              <td>${item.timestamp}</td>
              <td>${item.nama}</td>
              <td>${getDeptBadge(item.bidang)}</td>
              <td>${item.score}</td>
              <td>${getScoreBadge(item.score)}</td>
              <td>${item.password_importance.answer} (${
              item.password_importance.score
            } poin)</td>
              <td>${item.password_change_frequency.answer} (${
              item.password_change_frequency.score
            } poin)</td>
              <td>${item.password_reuse.answer} (${
              item.password_reuse.score
            } poin)</td>
              <td>${item.password_manager_knowledge.answer} (${
              item.password_manager_knowledge.score
            } poin)</td>
              <td>${item.strong_password_example.answer} (${
              item.strong_password_example.score
            } poin)</td>
            `;
            tableBody.appendChild(row);
          });
        }

        // Render pagination buttons
        renderPagination(data);
      }

      // FUNGSI UNTUK MERENDER TOMBOL PAGINASI
      function renderPagination(data) {
        const paginationWrapper = document.getElementById("pagination-wrapper");
        paginationWrapper.innerHTML = "";
        const totalPages = Math.ceil(data.length / rowsPerPage);

        // Previous button
        const prevButton = document.createElement("button");
        prevButton.textContent = "Sebelumnya";
        prevButton.classList.add("pagination-button");
        if (currentPage === 1) prevButton.disabled = true;
        prevButton.addEventListener("click", () => {
          currentPage--;
          renderTable(data, currentPage);
        });
        paginationWrapper.appendChild(prevButton);

        // Page number buttons
        for (let i = 1; i <= totalPages; i++) {
          const pageButton = document.createElement("button");
          pageButton.textContent = i;
          pageButton.classList.add("pagination-button");
          if (i === currentPage) pageButton.classList.add("active");
          pageButton.addEventListener("click", () => {
            currentPage = i;
            renderTable(data, currentPage);
          });
          paginationWrapper.appendChild(pageButton);
        }

        // Next button
        const nextButton = document.createElement("button");
        nextButton.textContent = "Selanjutnya";
        nextButton.classList.add("pagination-button");
        if (currentPage === totalPages) nextButton.disabled = true;
        nextButton.addEventListener("click", () => {
          currentPage++;
          renderTable(data, currentPage);
        });
        paginationWrapper.appendChild(nextButton);
      }

      // FUNGSI UNTUK MENGAPLIKASIKAN FILTER
      function applyFilters() {
        const filterBidang = document.getElementById("filterBidang").value;
        const filterScore = document.getElementById("filterScore").value;
        const searchName = document
          .getElementById("searchName")
          .value.toLowerCase();

        const filteredData = surveyData.survey_data.filter((item) => {
          const matchesBidang = filterBidang
            ? item.bidang === filterBidang
            : true;
          const matchesScore = filterScore
            ? getScoreLevel(item.score) === filterScore
            : true;
          const matchesName = searchName
            ? item.nama.toLowerCase().includes(searchName)
            : true;
          return matchesBidang && matchesScore && matchesName;
        });

        currentFilteredData = filteredData;
        currentPage = 1; // Reset halaman ke 1 setiap kali filter diterapkan
        renderTable(currentFilteredData, currentPage);
        calculateUnderstandingPercentage(currentFilteredData);
      }

      // FUNGSI UNTUK MERESET FILTER
      function resetFilters() {
        document.getElementById("filterBidang").value = "";
        document.getElementById("filterScore").value = "";
        document.getElementById("searchName").value = "";
        applyFilters();
      }

      // FUNGSI UNTUK MERENDER STATS PADA KARTU
      function renderStats() {
        const highScores = surveyData.survey_data.filter(
          (item) => item.score >= 11
        ).length;
        const mediumScores = surveyData.survey_data.filter(
          (item) => item.score >= 6 && item.score <= 10
        ).length;
        const lowScores = surveyData.survey_data.filter(
          (item) => item.score >= 0 && item.score <= 5
        ).length;

        document.getElementById("totalResponses").textContent =
          surveyData.metadata.total_responses;
        document.getElementById("highScore").textContent = highScores;
        document.getElementById("mediumScore").textContent = mediumScores;
        document.getElementById("lowScore").textContent = lowScores;
      }

      // PANGGIL FUNGSI SAAT HALAMAN SELESAI DIMUAT
      document.addEventListener("DOMContentLoaded", () => {
        renderStats();
        applyFilters(); // Panggil applyFilters() untuk merender data awal
      });
    </script>
  </body>
</html>
